---
layout: post
title: "Infdev #02 - Memória RAM, Endereços e Alinhamento."
categories: [memória]
tags: [memória]
---

Idependente da area que você trabalha com ou estuda, você está lidando com memoria, seja manualmente ou altomaticamente, o que importa é que você esta lidando com memoria constantemente, e no contexto deste blog, onde C é o maior ofoc, entender como a memoria e endereços funcionam é crucial para entender questões que são comunmente postas como dificuldades, problemas esses que se tornam triviais do momento em que se entende como a memoria funciona.

PS: Não irei explicar a nivel de hardware sobre flip flops ou endereçamento.

## O que é RAM?
*Random Acess Memories*, isso todo mundo sabe, mas a parte do *Random* perde o sentido na hora de traduzir, naõ é *Random* de aleatorio, e sim de arbitrario, não existe acesso aleatorio, o que RAM significa, é que qualquer lugar da memoria pode ser acessodo de forma arbitraria em tempo constante, sendo assim é possivel salvar e ler valores do meio da RAM tão rapido quanto do começo. 

Todo mundo que já estudou sobre já ouviu a analogia da rua para entender memoria, o endereço da sua casa é igual o endereço na memoria, e a sua casa é o valor que esta no endereço, ou algo parecido com isso, e essa analogia não esta errada, porem eu acredito que sejá mais facil ler memoria como ela realmente é, um grande array.

A definição formal de array é simples, uma sequencia de tamanho fixo dividido em partes de mesmo tamanho que pode ser acessado a partir de um index. O que isso quer dizer é que um array de inteiros de tamanho 20, so aceitara inteiros, e no maximo 20 elementos, caso você precise de 21 elementos, crie um novo array, mova os 20 elementos do array antigo para o novo, e adicione o novo valor. "Mas em Python arrays são variaives e aceitam qualquer tipo", Python não possui arrays, Python possui listas, um array é de tamanho especifico e imutavel, e apenas aceita um tipo. 

E assim como um array, a memoria é uma sequencia de tamanho fixo dividido em partes de mesmo tamanho, no caso, cada parte possui 1 byte (8 bits). Se você tem 8 gigas de ram, você tem acesso a mais ou menos 64 bilhões de bits, que são 8 bilhões de partes de 8 bits cada, e é possivel acessar qualquer valor desses 8 bilhão diretamente pelo index, no caso da ram, o index é o endereço de memoria.

## Endereços 
Um endereço de memoria tem o mesmo funcionamento de um index em um array, se você salvar um valor no index 97.812.542, basta salvar o endereço 97.812.542 para usar depois quando você precisar do valor salvo, porem os endereços são em hexadecial invẽs de decimal, intão o index 97.812.542 seria é o endereço 0x5D4803E (o 0x no começo é convensão para indicar hexadecial, não faz parte do valor). Um endereço de memoria não possui um tamanho fixo, porem cada computador possui apenas 1 tamanho para um endereço, sendo esse o tamanho da word do computador (caso não saiba o que é uma word, eu expliquei o que é uma word no infdev #01), um computador de 32 bits possui endereços de 32 bits, 64 bits possui endereços de 64 bits. 

- Se você já estudo sobre hardware e memoria, talvez você saiba que um dos problemas de computadores 32 bits era que eles eram limitados a 4 gigas, pois o maior endereço que um computador de 32 bits consegue acessar é 0xffffffff, e ffffffff em decimal é mais ou menos 4000000000 de bytes, que são 4 gigas. Enquanto que um computador com endereços de ate 64 bits consegue acessar teoricamente ate 16 exabytes de ram, que seria igual a 17 bilhões de gigas.

Vamos para um pequeno exemplo em C:

```c
int main() {
    int i = 10;
    printf("Endereço de i = %p\n", &i); // & indica que quero o endereço de i, e não o valor armazenado em i
}
```

Neste exemplo, salvamos o 10 a variavel 1, o que isso esta fazendo é reservando na memoria um local para armazenar 10, e a segunda linha é um print para mostrar qual o endereço da memoria a onde 10 esta guardado. E quando executamos, temos que o endereço de i é {}

<!-- ![]() -->

## Alinhamento
Agora que você entende que a memoria é apenas um grande array, e que o endereço é o index para acessar os valores desse array, esta na hora de entender o que é alinhamento de memoria, e como isso é importante para otimizar leitura e escrita de memoria 